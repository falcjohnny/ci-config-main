#
# Template for jobs that use upstream driver
# Builders are defined in macros-common.yaml
#
- job-template:
	name: 'dsvm-{name}-fss-iscsi'
	node: '{node}'

	wrappers:
		-timeout:
			timeout: 300
			fail: true
		-timestamps

	builders:
		- link-logs
		- net-info
		- devstack-checkout
		- pretest-hook-upstream-driver
		- run-devstack-gate

	publishers:
		- devstack-logs
		- console-log

#
# Template for jobs that use custom driver
# Builders are defined in macros-common.yaml
#
# The only difference from the previous template is 
# that a different pre-test hook is used
#
- job-template:
	name: 'dsvm-{name}-fss-iscsi-custom'
	node: '{node}'

	wrappers:
		-timeout:
			timeout: 300
			fail: true
		-timestamps

	builders:
		- link-logs
		- net-info
		- devstack-checkout
		- pretest-hook-custom-driver
		- run-devstack-gate

	publishers:
		- devstack-logs
		- console-log
